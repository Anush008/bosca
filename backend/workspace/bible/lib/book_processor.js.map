{"version":3,"file":"book_processor.js","sourceRoot":"","sources":["../src/book_processor.ts"],"names":[],"mappings":"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"}